(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{259:function(e,t){},260:function(e,t){},261:function(e,t){},262:function(e,t){},330:function(e,t){},332:function(e,t,r){var n=r(900);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r(17).default)("a2660890",n,!0,{})},341:function(e,t,r){var n=r(8);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},477:function(e,t,r){"use strict";var n=r(25),s=r(6),i=r(33),a=r(104),o=r(105),c=r(18),u=r(478),l=r(106);s(s.S+s.F*!r(99)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,s,p,f=i(e),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,g=0,k=l(f);if(m&&(v=n(v,h>2?arguments[2]:void 0,2)),null==k||d==Array&&o(k))for(r=new d(t=c(f.length));t>g;g++)u(r,g,m?v(f[g],g):f[g]);else for(p=k.call(f),r=new d;!(s=p.next()).done;g++)u(r,g,m?a(p,v,[s.value,g],!0):s.value);return r.length=g,r}})},478:function(e,t,r){"use strict";var n=r(9),s=r(34);e.exports=function(e,t,r){t in e?n.f(e,t,s(0,r)):e[t]=r}},479:function(e,t,r){"use strict";var n=r(480),s=r(341);e.exports=r(481)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(s(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(s(this,"Map"),0===e?0:e,t)}},n,!0)},480:function(e,t,r){"use strict";var n=r(9).f,s=r(66),i=r(98),a=r(25),o=r(96),c=r(97),u=r(65),l=r(103),p=r(70),f=r(7),d=r(95).fastKey,h=r(341),v=f?"_s":"size",m=function(e,t){var r,n=d(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var l=e(function(e,n){o(e,l,t,"_i"),e._t=t,e._i=s(null),e._f=void 0,e._l=void 0,e[v]=0,null!=n&&c(n,r,e[u],e)});return i(l.prototype,{clear:function(){for(var e=h(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=h(this,t),n=m(r,e);if(n){var s=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=s),s&&(s.p=i),r._f==n&&(r._f=s),r._l==n&&(r._l=i),r[v]--}return!!n},forEach:function(e){h(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!m(h(this,t),e)}}),f&&n(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,r){var n,s,i=m(e,t);return i?i.v=r:(e._l=i={i:s=d(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[v]++,"F"!==s&&(e._i[s]=i)),e},getEntry:m,setStrong:function(e,t,r){u(e,t,function(e,r){this._t=h(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},r?"entries":"values",!r,!0),p(t)}}},481:function(e,t,r){"use strict";var n=r(2),s=r(6),i=r(11),a=r(98),o=r(95),c=r(97),u=r(96),l=r(8),p=r(10),f=r(99),d=r(35),h=r(107);e.exports=function(e,t,r,v,m,g){var k=n[e],w=k,_=m?"set":"add",x=w&&w.prototype,b={},y=function(e){var t=x[e];i(x,e,"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof w&&(g||x.forEach&&!p(function(){(new w).entries().next()}))){var A=new w,T=A[_](g?{}:-0,1)!=A,W=p(function(){A.has(1)}),E=f(function(e){new w(e)}),N=!g&&p(function(){for(var e=new w,t=5;t--;)e[_](t,t);return!e.has(-0)});E||((w=t(function(t,r){u(t,w,e);var n=h(new k,t,w);return null!=r&&c(r,m,n[_],n),n})).prototype=x,x.constructor=w),(W||N)&&(y("delete"),y("has"),m&&y("get")),(N||T)&&y(_),g&&x.clear&&delete x.clear}else w=v.getConstructor(t,e,m,_),a(w.prototype,r),o.NEED=!0;return d(w,e),b[e]=w,s(s.G+s.W+s.F*(w!=k),b),g||v.setStrong(w,e,m),w}},899:function(e,t,r){"use strict";var n=r(332);r.n(n).a},900:function(e,t,r){(t=e.exports=r(16)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Nunito:300,400,600);",""]),t.push([e.i,".text-font,h1,p{font-family:Nunito,Helvetica,sans-serif;text-align:center}.subTitle{text-shadow:0 5px 10px rgba(0,0,0,.33);position:relative}.sell{background:#fff;border-radius:6px;box-shadow:0 20px 40px -15px rgba(0,0,0,.5);overflow:hidden;max-width:600px;margin:0 auto;text-align:left;text-align:initial}",""])},980:function(e,t,r){"use strict";r.r(t);r(100),r(101),r(477),r(64),r(479);var n=r(23),s=r.n(n),i=(r(45),r(5)),a=r.n(i),o=(r(26),r(69),r(32),r(286)),c=r(462),u=r(184),l=r(196),p=r(380),f=r(197),d={name:"Sell",data:function(){return{tokenName:"",tokenDescription:"",selectedAddress:null,price:1,web3Wrapper:null,contractWrappers:null,providerEngine:null,ethBalance:0,address:"",maker:"",taker:"",walletNFT:null,tokenId:""}},computed:{tokensNFT:function(){if(null!=this.walletNFT){var e=this.walletNFT.assets.reduce(function(e,t){return e[t.asset_contract.name]=e[t.asset_contract.name]||[],e[t.asset_contract.name].push(t),e},Object.create(null));return this.selectedAddress=e[Object.keys(e)[0]][0].asset_contract.address||null,e}}},mounted:function(){var e=a()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWalletInfo();case 2:this.mintToken();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{makerOrder:function(){var e=a()(regeneratorRuntime.mark(function e(){var t,r,n,i,a,c,l,f,d,h,v,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.selectedAddress,r="",n=this.tokensNFT,Object.keys(n).forEach(function(e){n[e].map(function(e){e.asset_contract.address==t&&(r=e.token_id)})}),i=Object(p.getContractAddressesForNetworkOrThrow)(4),i.zrxToken,a=i.etherToken,18,c=i.exchange,console.log(r),l=o.assetDataUtils.encodeERC721AssetData(this.selectedAddress,r),f=o.assetDataUtils.encodeERC20AssetData(a),u.Web3Wrapper.toBaseUnitAmount(new o.BigNumber(1),18),u.Web3Wrapper.toBaseUnitAmount(new o.BigNumber(.1),18),e.next=16,this.contractWrappers.erc721Token.setProxyApprovalForAllAsync(this.selectedAddress,this.maker,!0);case 16:return d=e.sent,e.next=19,this.web3Wrapper.awaitTransactionSuccessAsync(d);case 19:return h={exchangeAddress:c,makerAddress:this.maker,takerAddress:"0x0000000000000000000000000000000000000000",senderAddress:"0x0000000000000000000000000000000000000000",feeRecipientAddress:"0x0000000000000000000000000000000000000000",expirationTimeSeconds:6e3,salt:Object(o.generatePseudoRandomSalt)(),makerAssetAmount:1,takerAssetAmount:this.price,makerAssetData:l,takerAssetData:f,makerFee:new o.BigNumber(0),takerFee:new o.BigNumber(0),relayerClient:null},v=o.orderHashUtils.getOrderHashHex(h),e.next=23,o.signatureUtils.ecSignHashAsync(this.providerEngine,v,this.maker);case 23:return m=e.sent,g=s()({},h,{signature:m}),e.next=27,this.contractWrappers.exchange.validateOrderFillableOrThrowAsync(g);case 27:return e.next=29,this.relayerClient.submitOrderAsync(g,{networkId:4});case 29:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),groupBy:function(e,t){var r=new Map;return e.forEach(function(e){var n=t(e),s=r.get(n);s?s.push(e):r.set(n,[e])}),Array.from(r)},getWalletInfo:function(){var e=a()(regeneratorRuntime.mark(function e(){var t,r,n,s,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8081/v2",this.relayerClient=new c.HttpClient("http://localhost:8081/v2"),t=window.web3.currentProvider,e.next=5,new u.Web3Wrapper(t).getNetworkIdAsync();case 5:return r=e.sent,n=t.isMetaMask||t.isToshi?new o.MetamaskSubprovider(t):new o.SignerSubprovider(t),(s=new o.Web3ProviderEngine).addProvider(n),s.addProvider(new o.RPCSubprovider("https://rinkeby.infura.io")),s.start(),this.providerEngine=s,this.web3Wrapper=new u.Web3Wrapper(s),this.contractWrappers=new o.ContractWrappers(s,{networkId:r}),e.next=16,this.web3Wrapper.getAvailableAddressesAsync();case 16:return i=e.sent,console.log("addresses are: "+i),this.maker=i[0],this.taker=i[1],console.log("Owner address: "+i[0]+" at network: "+r),e.next=23,this.web3Wrapper.getBalanceInWeiAsync(this.maker);case 23:return a=e.sent,this.ethBalance=a.toString(),console.log("Eth balance: "+a),e.next=28,this.$axios.$get("https://rinkeby-api.opensea.io/api/v1/assets?owner="+this.maker+"&order_by=current_price&order_direction=asc");case 28:this.walletNFT=e.sent;case 29:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),mintToken:function(){var e=a()(regeneratorRuntime.mark(function e(){var t,r,n,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],r=["0xffce3807ac47060e900ce3fb9cdad3597c25425d"],n=0;n<r.length;n++)s=r[n],t.push(new l.DummyERC721TokenContract(f.DummyERC721Token.compilerOutput.abi,s,this.providerEngine));return e.next=5,t[0].mint.sendTransactionAsync(this.maker,1,{from:this.maker});case 5:return i=e.sent,e.next=8,this.web3Wrapper.awaitTransactionSuccessAsync(i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},h=(r(899),r(12)),v=Object(h.a)(d,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"container"},[r("div",{staticClass:"sell"},[r("br"),e._v(" "),r("h1",[e._v("Sell NFT")]),e._v(" "),r("br"),e._v(" "),r("vs-row",{attrs:{"vs-justify":"center"}},[r("vs-select",{staticClass:"selectExample",attrs:{autocomplete:"",label:"Select Token"},model:{value:e.selectedAddress,callback:function(t){e.selectedAddress=t},expression:"selectedAddress"}},e._l(e.tokensNFT,function(t,n){return r("div",{key:t},[r("vs-select-group",{attrs:{title:n}},e._l(t,function(e,t){return r("vs-select-item",{key:t,attrs:{value:e.asset_contract.address,text:"# "+e.token_id}})}),1)],1)}),0)],1),e._v(" "),r("br"),e._v(" "),r("vs-row",{attrs:{"vs-justify":"center"}},[r("vs-input",{attrs:{placeholder:"Title"},model:{value:e.tokenName,callback:function(t){e.tokenName=t},expression:"tokenName"}})],1),e._v(" "),r("br"),e._v(" "),r("vs-row",{attrs:{"vs-justify":"center"}},[r("vs-col",{attrs:{"vs-w":"4"}},[r("vs-textarea",{attrs:{label:"Description"},model:{value:e.tokenDescription,callback:function(t){e.tokenDescription=t},expression:"tokenDescription"}})],1)],1),e._v(" "),r("vs-row",{attrs:{"vs-justify":"center"}},[r("picture-input",{ref:"pictureInput",attrs:{"custom-strings":{upload:"<h1>Bummer!</h1>",drag:"Drag or upload an image here 😺"},width:"300",height:"300",margin:"16",accept:"image/jpeg,image/png",size:"10"},on:{change:e.onChange}})],1),e._v(" "),r("br"),e._v(" "),r("vs-row",{attrs:{"vs-justify":"center"}},[r("vs-input-number",{attrs:{min:"0"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),e._v(" "),r("vs-row",{attrs:{"vs-justify":"center"}},[r("vs-button",{attrs:{type:"filled"},on:{click:e.makerOrder}},[e._v("Sell for Ξ "+e._s(e.price))])],1),e._v(" "),r("br")],1)])},[],!1,null,null,null);v.options.__file="sell.vue";t.default=v.exports}}]);